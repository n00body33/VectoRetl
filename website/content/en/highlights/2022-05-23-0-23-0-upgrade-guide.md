---
date: "2022-06-16"
title: "0.23 Upgrade Guide"
description: "An upgrade guide that addresses breaking changes in 0.23.0"
authors: ["akx", "jszwedko", "spencergilbert"]
release: "0.23.0"
hide_on_release_notes: false
badges:
  type: breaking change
---

Vector's 0.23.0 release includes **breaking changes**:

1. [The `.deb` package no longer enables and starts the Vector systemd service](#systemd-autostart)
2. [VRL if statement type definitions updated](#vrl-if-statements)
3. ["remove_empty" option dropped from VRL's `parse_grok` and `parse_groks`](#vrl-parse_grok)

We cover them below to help you upgrade quickly:

## Upgrade guide

### Breaking changes

#### [The `.deb` package no longer enables and starts the Vector systemd service] {#systemd-autostart}

The [official `.deb` package](https://vector.dev/download/)
no longer automatically enables and starts the Vector systemd service.
This is in line with how the RPM package behaves.

To enable and start the service (after configuring it to your requirements),
you can use `systemctl enable --now`:

```shell
systemctl enable --now vector
```

To just start the service without enabling it to run at system startup,

```shell
systemctl start vector
```

#### [VRL if statement type definitions updated] {#vrl-if-statements}

VRL if statements didn't properly merge type definitions for each branch. This
is now fixed. In some cases this can cause compilation errors when upgrading if
the previous code relied on the previous behavior.

#### ["remove_empty" option dropped from VRL's `parse_grok` and `parse_groks`] {#vrl-parse_grok}

The "remove_empty" argument has been dropped from both the `parse_grok` and the
`parse_groks` functions. To preserve the old behavior, you can do the following:

```coffee
parsed = parse_grok!(.message, "%{TIMESTAMP_ISO8601:timestamp} %{LOGLEVEL:level} %{GREEDYDATA:message}")
expected = { "timestamp": "", "level": "", "message": ""}
parsed = merge(expected, parsed)
```
