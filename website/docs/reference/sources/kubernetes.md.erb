<% component = metadata.sources.kubernetes %>

<%= component_header(component) %>

## Configuration

<%= component_config_example(component) %>

## Options

<%= options(component.specific_options_list, heading_depth: 3) %>

## Output

<%= source_output(:log, component.output.log, heading_depth: 3) %>

## How It Works [[sort]]

<%= component_sections(component) %>

### Deployment

The `kubernetes` source is designed to be deployed to a Kubernetes cluster as a
[`DaemonSet`][urls.kubernetes_daemonset]. You can find an [example config] in the
`vector` repository. At a high level the `kubernetes` source will run an agent on
each node and will internally use the file source to collect logs from `/var/log/pods`
and a few other locations that Kubernetes places logs into. Via the [`DaemonSet`][urls.kubernetes_daemonset]
Kubernetes will ensure that there is always a copy of the agent running on each node.

### Metadata

Each event will contain a `message` field that contains the direct output from the containers stdout/stderr. There
will also be other fields included that come from Kubernetes. These fields include `host`, `stream`, `pod_uid`,
`container_name` and `timestamp`.